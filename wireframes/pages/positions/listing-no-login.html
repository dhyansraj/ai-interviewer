<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browse Positions - S Corp.</title>
    <link rel="stylesheet" href="../../css/careers.css">
    <link rel="stylesheet" href="../../css/listing-clean.css">
</head>
<body>
    <!-- Navigation Header -->
    <header class="header">
        <div class="nav-container">
            <a href="../../index.html" class="logo">
                <div class="logo-icon">SCI</div>
                <span>S Corp.</span>
            </a>
            
            <div class="nav-actions">
                <!-- Not Logged In State -->
                <div id="auth-actions" class="flex items-center gap-4">
                    <a href="../../index.html" class="btn btn-secondary">Home</a>
                    <a href="#" class="btn btn-secondary" onclick="showLogin()">Login</a>
                </div>
                
                <!-- Logged In State (hidden by default) -->
                <div id="user-actions" class="user-info hidden">
                    <div class="user-avatar">DR</div>
                    <div class="user-details">
                        <h4>Dhyan Raj</h4>
                        <p>dhyan.raj@gmail.com</p>
                    </div>
                    <a href="../auth/dashboard-with-applications.html" class="btn btn-secondary">My Applications</a>
                    <a href="#" class="btn btn-secondary" onclick="logout()">Logout</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Login Banner for non-logged-in users -->
        <div class="alert alert-info animate-fade-in" style="margin-bottom: 2rem;">
            <div style="display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 1rem;">
                <div>
                    <strong>üöÄ Get AI-Powered Matching:</strong> Login to see personalized job recommendations and apply with one click
                </div>
                <a href="../auth/login.html?redirect=../positions/listing-logged-in.html" class="btn btn-primary">Login to Get Matched</a>
            </div>
        </div>

        <!-- Two-column layout -->
        <div class="main-layout">
            <!-- Sidebar -->
            <aside class="sidebar">
                <!-- Values Card -->
                <div class="values-card">
                    <h3>Our AI Values</h3>
                    <p>Innovation. Excellence. Collaboration. Transparency. Growth. Fun. These are our six core values and define who we are.</p>
                    <a href="#">Learn more.</a>
                </div>

                <!-- Refine Search -->
                <div class="refine-search">
                    <h4>Refine your search</h4>
                    
                    <!-- Category Filter -->
                    <div class="filter-section">
                        <div class="filter-header" onclick="toggleFilter('category')">
                            <h5>Category</h5>
                            <div class="filter-toggle" id="category-toggle">+</div>
                        </div>
                        <div class="filter-content" id="category-content">
                            <div class="filter-search">
                                <input type="text" placeholder="Search in Category">
                                <span class="search-icon">üîç</span>
                            </div>
                            <div class="filter-options">
                                <div class="filter-option">
                                    <input type="checkbox" id="engineering" value="engineering">
                                    <label for="engineering">Engineering <span class="filter-count">(45)</span></label>
                                </div>
                                <div class="filter-option">
                                    <input type="checkbox" id="operations" value="operations">
                                    <label for="operations">Operations <span class="filter-count">(32)</span></label>
                                </div>
                                <div class="filter-option">
                                    <input type="checkbox" id="finance" value="finance">
                                    <label for="finance">Finance <span class="filter-count">(18)</span></label>
                                </div>
                                <div class="filter-option">
                                    <input type="checkbox" id="marketing" value="marketing">
                                    <label for="marketing">Marketing <span class="filter-count">(12)</span></label>
                                </div>
                                <div class="filter-option">
                                    <input type="checkbox" id="sales" value="sales">
                                    <label for="sales">Sales <span class="filter-count">(8)</span></label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- State Filter -->
                    <div class="filter-section">
                        <div class="filter-header" onclick="toggleFilter('state')">
                            <h5>State</h5>
                            <div class="filter-toggle" id="state-toggle">+</div>
                        </div>
                        <div class="filter-content" id="state-content">
                            <div class="filter-options">
                                <div class="filter-option">
                                    <input type="checkbox" id="california" value="california">
                                    <label for="california">California <span class="filter-count">(28)</span></label>
                                </div>
                                <div class="filter-option">
                                    <input type="checkbox" id="newyork" value="newyork">
                                    <label for="newyork">New York <span class="filter-count">(22)</span></label>
                                </div>
                                <div class="filter-option">
                                    <input type="checkbox" id="texas" value="texas">
                                    <label for="texas">Texas <span class="filter-count">(15)</span></label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Country Filter -->
                    <div class="filter-section">
                        <div class="filter-header" onclick="toggleFilter('country')">
                            <h5>Country</h5>
                            <div class="filter-toggle" id="country-toggle">+</div>
                        </div>
                        <div class="filter-content" id="country-content">
                            <div class="filter-options">
                                <div class="filter-option">
                                    <input type="checkbox" id="usa" value="usa">
                                    <label for="usa">United States <span class="filter-count">(115)</span></label>
                                </div>
                                <div class="filter-option">
                                    <input type="checkbox" id="remote" value="remote">
                                    <label for="remote">Remote <span class="filter-count">(12)</span></label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Type Filter -->
                    <div class="filter-section">
                        <div class="filter-header" onclick="toggleFilter('type')">
                            <h5>Type</h5>
                            <div class="filter-toggle" id="type-toggle">+</div>
                        </div>
                        <div class="filter-content" id="type-content">
                            <div class="filter-options">
                                <div class="filter-option">
                                    <input type="checkbox" id="fulltime" value="fulltime">
                                    <label for="fulltime">Full Time <span class="filter-count">(98)</span></label>
                                </div>
                                <div class="filter-option">
                                    <input type="checkbox" id="contract" value="contract">
                                    <label for="contract">Contract <span class="filter-count">(15)</span></label>
                                </div>
                                <div class="filter-option">
                                    <input type="checkbox" id="parttime" value="parttime">
                                    <label for="parttime">Part Time <span class="filter-count">(8)</span></label>
                                </div>
                                <div class="filter-option">
                                    <input type="checkbox" id="internship" value="internship">
                                    <label for="internship">Internship <span class="filter-count">(6)</span></label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Main Content Area -->
            <div class="content-area">
                <!-- Content Header -->
                <div class="content-header">
                    <div class="search-bar">
                        <input type="text" placeholder="Search from below list" id="main-search">
                    </div>
                    <div class="results-info">
                        <span id="results-count">127 Jobs</span>
                        <span>|</span>
                        <span>Sort by</span>
                        <select class="form-select sort-select" id="sort-filter">
                            <option value="relevance">Most relevant</option>
                            <option value="date">Newest First</option>
                            <option value="title">Job Title</option>
                        </select>
                    </div>
                </div>

                <!-- Job Listings -->
                <div id="job-listings">
                    <div class="job-card">
                        <h3 class="job-title" onclick="window.location.href='detail.html?id=1'">Operations Analyst, Institutional Private Client</h3>
                        <div class="job-meta-line">
                            <div class="job-location">üìç San Francisco, California, United States of America</div>
                            <div class="job-type">üïê Full time</div>
                        </div>
                        <p class="job-description">
                            The Investment Manager Services Division (IMS) at S Corp. is growing rapidly and is seeking new members on our Institutional Private Client (IPC) team. Our primary goal is to provide exceptional administrative services...
                        </p>
                    </div>

                    <div class="job-card">
                        <h3 class="job-title" onclick="window.location.href='detail.html?id=2'">Fund Accountant, Investment Fund Services</h3>
                        <div class="job-meta-line">
                            <div class="job-location">üìç Austin, Texas, United States of America</div>
                            <div class="job-type">üïê Full time</div>
                        </div>
                        <p class="job-description">
                            The Investment Manager Services Division (IMS) at S Corp. is growing rapidly and is seeking new members on our Investment Fund Services accounting team. Our primary goal is to provide exceptional accounting...
                        </p>
                    </div>

                    <div class="job-card">
                        <h3 class="job-title" onclick="window.location.href='detail.html?id=3'">Operations Analyst, Separately Managed Accounts</h3>
                        <div class="job-meta-line">
                            <div class="job-location">üìç New York, New York, United States of America</div>
                            <div class="job-type">üïê Full time</div>
                        </div>
                        <p class="job-description">
                            The Investment Manager Services Division (IMS) at S Corp. is growing rapidly and is seeking new members on our Separately Managed Accounts team. Our primary goal is to provide exceptional accounting and administrative...
                        </p>
                    </div>

                    <div class="job-card">
                        <h3 class="job-title" onclick="window.location.href='detail.html?id=4'">Operations Analyst, AML</h3>
                        <div class="job-meta-line">
                            <div class="job-location">üìç Seattle, Washington, United States of America</div>
                            <div class="job-type">üïê Full time</div>
                        </div>
                        <p class="job-description">
                            The Investment Manager Services Division (IMS) at S Corp. is growing rapidly and is seeking new members on our Alternative Investment Funds Investor Services Anti-Money Laundering Team. Our primary goal is...
                        </p>
                    </div>

                    <div class="job-card">
                        <h3 class="job-title" onclick="window.location.href='detail.html?id=5'">Senior Software Engineer</h3>
                        <div class="job-meta-line">
                            <div class="job-location">üìç Boston, Massachusetts, United States of America</div>
                            <div class="job-type">üïê Full time</div>
                        </div>
                        <p class="job-description">
                            Join our engineering team to build scalable web applications using React, Node.js, and cloud technologies. We're looking for someone with 5+ years of experience in full-stack development and cloud architecture...
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Load More -->
        <div style="text-align: center; margin-top: 3rem;">
            <button class="btn btn-secondary" onclick="loadMoreJobs()">Load More Positions</button>
        </div>
    </main>

    <!-- Login Modal -->
    <div id="login-modal" class="hidden" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 100;">
        <div style="background: white; padding: 2rem; border-radius: 0.75rem; max-width: 400px; width: 90%;">
            <h3 style="margin-bottom: 1rem; text-align: center;">Sign In to Continue</h3>
            <p style="color: #6b7280; text-align: center; margin-bottom: 2rem;">Get AI-powered job matching and faster applications</p>
            <div style="display: flex; flex-direction: column; gap: 1rem;">
                <button onclick="loginWith('google')" class="btn btn-secondary" style="justify-content: center;">
                    <span>üîç</span> Continue with Google
                </button>
                <button onclick="loginWith('github')" class="btn btn-secondary" style="justify-content: center;">
                    <span>üêô</span> Continue with GitHub
                </button>
            </div>
            <button onclick="hideLogin()" style="position: absolute; top: 1rem; right: 1rem; background: none; border: none; font-size: 1.5rem; cursor: pointer;">√ó</button>
        </div>
    </div>

    <script src="../../js/careers.js"></script>
    <script>
        // Page-specific JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize filter functionality
            initializeFilters();
        });
        
        function initializeFilters() {
            // Set up filter toggle functionality
            const filterToggles = document.querySelectorAll('.filter-toggle');
            filterToggles.forEach(toggle => {
                const filterId = toggle.id.replace('-toggle', '');
                const content = document.getElementById(filterId + '-content');
                
                // Initially collapsed - no content visible
                content.style.maxHeight = '0px';
                toggle.textContent = '+';
            });
        }
        
        function toggleFilter(filterId) {
            const toggle = document.getElementById(filterId + '-toggle');
            const content = document.getElementById(filterId + '-content');
            
            if (content.classList.contains('expanded')) {
                // Collapse - hide all content
                content.classList.remove('expanded');
                content.style.maxHeight = '0px';
                toggle.classList.remove('expanded');
                toggle.textContent = '+';
            } else {
                // Expand - show all content
                content.classList.add('expanded');
                content.style.maxHeight = content.scrollHeight + 'px';
                toggle.classList.add('expanded');
                toggle.textContent = '‚àí';
            }
        }
        
        function applyFilters() {
            showNotification('Applying filters...', 'info');
            // Simulate filtering
        }
        
        function loadMoreJobs() {
            showNotification('Loading more positions...', 'info');
            // Simulate loading more
        }
        
        // Search functionality
        document.getElementById('main-search').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const jobCards = document.querySelectorAll('.job-card');
            let visibleCount = 0;
            
            jobCards.forEach(card => {
                const title = card.querySelector('.job-title').textContent.toLowerCase();
                const description = card.querySelector('.job-description').textContent.toLowerCase();
                
                if (title.includes(searchTerm) || description.includes(searchTerm)) {
                    card.style.display = 'block';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            document.getElementById('results-count').textContent = `${visibleCount} Jobs`;
        });
        
        // Sort functionality
        document.getElementById('sort-filter').addEventListener('change', function(e) {
            const sortBy = e.target.value;
            showNotification(`Sorting by ${sortBy}...`, 'info');
            // Simulate sorting
        });
        
        // Demo controls for testing different states
        function switchToListingState(state) {
            if (state === 'not-logged-in') {
                window.location.href = 'listing-no-login.html';
            } else if (state === 'logged-in') {
                window.location.href = 'listing-logged-in.html';
            } else if (state === 'has-resume') {
                window.location.href = 'listing-has-resume.html';
            }
        }
    </script>
    
    <!-- Demo Controls -->
    <div style="position: fixed; bottom: 1rem; left: 1rem; background: #ffffff; border: 1px solid #e5e7eb; padding: 1rem; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); z-index: 1000; font-size: 0.875rem;">
        <h4 style="margin-bottom: 0.5rem; font-weight: 600; color: #1f2937;">Listing States</h4>
        <div style="display: flex; flex-direction: column; gap: 0.5rem;">
            <button onclick="switchToListingState('not-logged-in')" class="btn btn-primary" style="font-size: 0.75rem; padding: 0.25rem 0.5rem;">Not Logged In</button>
            <button onclick="switchToListingState('logged-in')" class="btn btn-secondary" style="font-size: 0.75rem; padding: 0.25rem 0.5rem;">Logged In (No Resume)</button>
            <button onclick="switchToListingState('has-resume')" class="btn btn-secondary" style="font-size: 0.75rem; padding: 0.25rem 0.5rem;">Has Resume</button>
        </div>
    </div>
</body>
</html>